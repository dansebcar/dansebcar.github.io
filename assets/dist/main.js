!function(t){var e={};function n(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var r=n(0);n.n(r).a},function(t,e,n){"use strict";var r=n(1);n.n(r).a},function(t,e,n){"use strict";var r=n(2);n.n(r).a},function(t,e,n){"use strict";n.r(e);var r=function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("header-item",{attrs:{href:"/"}},[this._v("Home")]),this._v(" "),e("header-item",{attrs:{href:"/about"}},[this._v("About")]),this._v(" "),e("header-item",{attrs:{href:"/skies-of-arcadia"}},[this._v("Skies of Arcadia")])],1)};r._withStripped=!0;var s=function(){var t=this.$createElement;return(this._self._c||t)("a",{staticClass:"HeaderItem",attrs:{href:this.href}},[this._t("default")],2)};s._withStripped=!0;var i={props:{href:{type:String,required:!0}}};n(3);function o(t,e,n,r,s,i,o,a){var c,d="function"==typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=n,d._compiled=!0),r&&(d.functional=!0),i&&(d._scopeId="data-v-"+i),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=c):s&&(c=a?function(){s.call(this,this.$root.$options.shadowRoot)}:s),c)if(d.functional){d._injectStyles=c;var l=d.render;d.render=function(t,e){return c.call(e),l(t,e)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:d}}var a=o(i,s,[],!1,null,"56193d70",null);a.options.__file="src/components/HeaderItem.vue";var c=o({components:{HeaderItem:a.exports}},r,[],!1,null,null,null);c.options.__file="src/components/TheHeader.vue";var d=c.exports,l=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ImgMap"},[e("img",{ref:"map",staticClass:"map",attrs:{src:this.src}}),this._v(" "),e("canvas",{ref:"canvas",staticClass:"paths"}),this._v(" "),this._l(this.discos,function(t,n){return e("DiscoBox",{key:n+1,attrs:{disco:t,index:n+1}})})],2)};l._withStripped=!0;var u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"DiscoBox",class:{expanded:t.expanded},style:t.disco.point.style,on:{click:function(e){t.expanded=!t.expanded}}},[t.expanded?n("div",{staticClass:"tip"},[n("span",{staticClass:"title"},[t._v(t._s(t.index)+". "+t._s(t.disco.name))]),t._v(" "),n("span",{staticClass:"note"},[t._v(t._s(t.note))]),t._v(" "),n("a",{attrs:{href:t.disco.href}},[t._v("Wiki")])]):n("span",{staticClass:"point",attrs:{title:t.disco.name}},[t._v("\n    "+t._s(t.index)+"\n  ")])])};u._withStripped=!0;var h={props:{disco:{type:Object,required:!0},index:{type:Number,required:!0}},template:"\n  ",data:()=>({expanded:!1}),computed:{note(){const t=this.disco;let e=`${t.point.altitude}`;return t.path&&(e+=" moving"),e+=` (${t.both?"both games":"legends exclusive"})`}}},p=(n(4),o(h,u,[],!1,null,"7ebd14be",null));p.options.__file="src/components/DiscoBox.vue";var f=p.exports;function v(t){return`${100*t}%`}var m={components:{DiscoBox:f},props:{src:{type:String,required:!0},href:{type:String,required:!0}},data:()=>({Vector:{},discos:[]}),mounted(){this.$refs.map.addEventListener("load",this.onMapLoad)},methods:{clearPoint(t,e=.035){const n=this.$refs.canvas.getContext("2d"),r=this.Vector.from([e,e]);n.clearRect(...t.sub(r.mult(.5)).scaledArray,...r.scaledArray)},drawLine(t,e,n="white",r=1.5){const s=this.$refs.canvas.getContext("2d");s.strokeStyle=n,s.lineWidth=r;for(const[n,r]of this.Vector.segments(t,e))s.beginPath(),s.moveTo(...n.scaledArray),s.lineTo(...r.scaledArray),s.stroke()},drawPath(t){for(let e=0;e<t.length;e++){const n=t[e],r=t[e+1]||t[0];this.drawLine(n,r)}},handle(t){const e=t=>new this.Vector(t);for(const n of t)if(n.point=e(n.point),n.path){let t=n.path.map(e);n.path=t,this.drawPath(t),this.clearPoint(n.point)}this.discos=t},onMapLoad(t){this.Vector=function({width:t=1,height:e=1}={},n=1){class r{constructor({x:t=0,y:e=0,z:n="m"}={}){this.x=t,this.y=e,this.z=n}get altitude(){return`${r.altitudeDict[this.z]} sky`}get floor(){const t=t=>Math.floor(t/r.max);return new r({x:t(this.x),y:t(this.y)})}get scaledArray(){return[this.x*r.width,this.y*r.height]}get style(){return{top:v(this.y),left:v(this.x)}}static from(t){return new r({x:t[0],y:t[1]})}static*segments(t,e){const n=t.floor;for([t,e]=[t,e].map(t=>t.sub(n));;){let n=0,s=-1;for(let t=0;t<r.boundaryConditions.length;t++){const i=r.boundaryConditions[t].getK(e);i<n&&(n=i,s=t)}if(-1===s)break;const{getK:i,getC:o,move:a}=r.boundaryConditions[s],c=i(t),d=(e.y-t.y)/(e.x-t.x),l=r.from(o(t,c,d));yield[t,l],a(l),t=l,a(e)}yield[t,e]}add(t){return new r({x:this.x+t.x,y:this.y+t.y})}mult(t){return new r({x:t*this.x,y:t*this.y})}sub(t){return this.add(t.mult(-1))}}return Object.assign(r,{width:t,height:e,max:n,boundaryConditions:[{getK:t=>t.y,getC:(t,e,n)=>[t.x-e/n,0],move:t=>t.y+=1},{getK:t=>1-t.x,getC:(t,e,n)=>[1,t.y+e*n],move:t=>t.x-=1},{getK:t=>1-t.y,getC:(t,e,n)=>[t.x+e/n,1],move:t=>t.y-=1},{getK:t=>t.x,getC:(t,e,n)=>[0,t.y-e*n],move:t=>t.x+=1}],altitudeDict:{h:"Upper",l:"Lower",m:"Central"}})}(t.target);const e=this.$refs.canvas;[e.width,e.height]=[this.Vector.width,this.Vector.height],fetch(this.href).then(t=>t.json()).then(this.handle)}}},_=(n(5),o(m,l,[],!1,null,"c01ae76e",null));_.options.__file="src/components/ImgMap.vue";var y=_.exports;new Vue({el:"#app",components:{TheHeader:d,ImgMap:y}})}]);